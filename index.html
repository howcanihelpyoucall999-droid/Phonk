<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Live Messaging App</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;background:#f5f5f5;min-height:100vh;display:flex;justify-content:center;align-items:flex-start}
    .container{width:100%;max-width:520px;background:#fff;padding:16px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.08);box-sizing:border-box;margin:12px}
    h2{text-align:center;margin:6px 0 12px}
    h3{margin:14px 0 8px}
    input,button,textarea{width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;font-size:15px}
    button{background:#007bff;color:#fff;border:none;cursor:pointer;font-weight:600}
    button:disabled{background:#ccc;cursor:not-allowed}
    .message{padding:8px;border-radius:6px;margin:8px 0}
    .success{background:#e6ffef;color:#0b6623;border:1px solid #c9f3d6}
    .error{background:#ffecec;color:#8b1a1a;border:1px solid #f5c6c6}
    .info{background:#eef6ff;color:#0b3a66;border:1px solid #cfe6ff}
    .chat-list-item{display:flex;align-items:center;padding:10px;background:#f0f2f5;margin:6px 0;border-radius:8px;cursor:pointer}
    .chat-list-avatar{width:40px;height:40px;border-radius:50%;background:#007bff;color:#fff;display:flex;align-items:center;justify-content:center;margin-right:10px;font-weight:700}
    #individual-chat-container{display:none;flex-direction:column;border:1px solid #eee;padding:10px;border-radius:8px;margin-top:8px;background:#fafafa;height:60vh;min-height:360px}
    #chat-messages{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:6px;padding-right:6px}
    .chat-message{padding:10px 14px;border-radius:16px;max-width:75%;line-height:1.4;word-wrap:break-word}
    .chat-message.sent{background:#007bff;color:#fff;align-self:flex-end;margin-left:auto;border-bottom-right-radius:4px}
    .chat-message.received{background:#e8eaf0;color:#111;align-self:flex-start;margin-right:auto;border-bottom-left-radius:4px}
    #chat-input-area{display:flex;align-items:center;gap:8px;margin-top:8px;background:#fff;border-radius:30px;padding:6px 10px;box-shadow:0 1px 4px rgba(0,0,0,0.1)}
    #chat-input-area input{flex:1;margin:0;padding:12px 16px;border:none;outline:none;font-size:16px;border-radius:30px;background:#f0f2f5}
    #sendChatMessageBtn{width:auto;padding:8px 14px;font-size:14px;border-radius:30px;background:#007bff;color:#fff;cursor:pointer}
    #sendChatMessageBtn:disabled{background:#ccc;cursor:not-allowed}
  </style>
</head>
<body>
  <div class="container">
    <h2>Live Messaging App</h2>

    <div id="auth-section">
      <div id="auth-message-area"></div>
      <input id="email" type="email" placeholder="Email" />
      <input id="password" type="password" placeholder="Password" />
      <button id="signupBtn">Sign Up</button>
      <button id="loginBtn">Sign In</button>
    </div>

    <div id="app-section" style="display:none">
      <hr>
      <h3>My Chats</h3>
      <div id="chat-management-area">
        <div id="chat-message-area"></div>
        <input id="addChatEmail" type="email" placeholder="Enter user's email to chat" />
        <button id="addChatBtn">Add Person to Chat</button>
      </div>

      <div id="no-chats-message">No active chats. Add someone to start chatting!</div>
      <div id="chat-list-container"></div>

      <div id="individual-chat-container">
        <div id="chat-header" style="display:flex;align-items:center;gap:8px;padding-bottom:8px;border-bottom:1px solid #eee;margin-bottom:8px">
          <button id="backToChatListBtn" style="padding:6px 10px">&lt; Back</button>
          <div id="current-chat-avatar" class="chat-list-avatar"></div>
          <h4 id="current-chat-name" style="margin:0"></h4>
        </div>
        <div id="chat-messages"></div>
        <div id="chat-input-area">
          <input id="chatMessageInput" type="text" placeholder="Type a message..." />
          <button id="sendChatMessageBtn">Send</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>